<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Delicious Recipes</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="data:,">
</head>

<body>

    <nav class="navbar">
        <div class="container nav-content">
            <a href="index.html" class="logo">
                <i class="fas fa-utensils"></i> Delicious
            </a>

            <div class="nav-links">
                <a href="index.html" class="nav-link">Home</a>
                <a href="recipes.html" class="nav-link">Recipes</a>
                <a href="add_recipe.html" class="nav-link">Add Recipe</a>
                <a href="favorites.html" class="nav-link">Favorites</a>
                <a href="shopping-list.html" class="nav-link">Shopping List</a>
            </div>

            <div class="auth-buttons flex-center">
                <a href="login.html" class="btn btn-outline active" id="loginLink">Login</a>
                <a href="signup.html" class="btn btn-primary" id="signupLink">Sign Up</a>
            </div>
        </div>
    </nav>

    <div
        style="min-height: 100vh; display: flex; align-items: center; justify-content: center; padding: 100px 20px 50px; position: relative; overflow: hidden;">
        <!-- Background Blobs -->
        <div class="blob blob-1" style="top: 20%; left: 20%;"></div>
        <div class="blob blob-2" style="bottom: 20%; right: 20%;"></div>

        <div class="glass-card" style="width: 100%; max-width: 400px; padding: 3rem; position: relative; z-index: 10;">
            <div style="text-align: center; margin-bottom: 2rem;">
                <div
                    style="width: 60px; height: 60px; background: var(--gradient-main); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; color: white; font-size: 1.5rem; box-shadow: var(--shadow-glow);">
                    <i class="fas fa-user"></i>
                </div>
                <h2 style="font-family: 'Playfair Display', serif; font-size: 2rem; margin-bottom: 0.5rem;">Welcome Back
                </h2>
                <p style="color: var(--gray);">Sign in to continue your culinary journey</p>
            </div>

            <form id="loginForm">
                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Email Address</label>
                    <div style="position: relative;">
                        <input type="email" id="email" class="input-field" placeholder="Enter your email"
                            style="padding-left: 2.5rem;" required>
                        <i class="fas fa-envelope"
                            style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--gray);"></i>
                    </div>
                </div>

                <div style="margin-bottom: 1.5rem;">
                    <label style="display: block; margin-bottom: 0.5rem; font-weight: 600;">Password</label>
                    <div style="position: relative;">
                        <input type="password" id="password" class="input-field" placeholder="Enter your password"
                            style="padding-left: 2.5rem;" required>
                        <i class="fas fa-lock"
                            style="position: absolute; left: 1rem; top: 50%; transform: translateY(-50%); color: var(--gray);"></i>
                        <button type="button" onclick="togglePassword()"
                            style="position: absolute; right: 1rem; top: 50%; transform: translateY(-50%); background: none; border: none; color: var(--gray); cursor: pointer;">
                            <i class="fas fa-eye" id="toggleIcon"></i>
                        </button>
                    </div>
                </div>

                <div class="flex-between" style="margin-bottom: 2rem; font-size: 0.9rem;">
                    <label class="flex" style="gap: 0.5rem; cursor: pointer;">
                        <input type="checkbox" id="rememberMe" style="accent-color: var(--primary);">
                        <span>Remember me</span>
                    </label>
                    <a href="#" style="color: var(--primary); text-decoration: none; font-weight: 500;">Forgot
                        Password?</a>
                </div>

                <button type="submit" class="btn btn-primary"
                    style="width: 100%; justify-content: center; margin-bottom: 1.5rem;">
                    Sign In
                </button>

                <div style="text-align: center; margin-bottom: 1.5rem; position: relative;">
                    <hr style="border: none; border-top: 1px solid var(--light);">
                    <span
                        style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); background: rgba(255,255,255,0.8); padding: 0 1rem; color: var(--gray); font-size: 0.9rem;">or
                        continue with</span>
                </div>

                <div class="grid" style="grid-template-columns: 1fr 1fr; gap: 1rem; margin-bottom: 2rem;">
                    <button type="button" class="btn btn-outline" style="justify-content: center;">
                        <i class="fab fa-google"></i> Google
                    </button>
                    <button type="button" class="btn btn-outline" style="justify-content: center;">
                        <i class="fab fa-facebook-f"></i> Facebook
                    </button>
                </div>

                <p style="text-align: center; font-size: 0.9rem;">
                    Don't have an account? <a href="signup.html"
                        style="color: var(--primary); text-decoration: none; font-weight: 600;">Sign up</a>
                </p>
            </form>
        </div>
    </div>

    <script src="main.js"></script>
    <script src="dark-mode-handler.js"></script>

    <script>
        function togglePassword() {
            const input = document.getElementById('password');
            const icon = document.getElementById('toggleIcon');
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }

        document.getElementById('loginForm').addEventListener('submit', async (e) => {
            e.preventDefault();
            const btn = e.target.querySelector('button[type="submit"]');
            const originalText = btn.innerHTML;

            btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Signing In...';
            btn.disabled = true;

            const email = document.getElementById('email').value;

            // Simulate API call
            await new Promise(r => setTimeout(r, 1500));

            // Create dummy session
            const session = {
                name: email.split('@')[0],
                email: email,
                avatar: `https://ui-avatars.com/api/?name=${email.split('@')[0]}&background=FF6B6B&color=fff`
            };

            localStorage.setItem('userSession', JSON.stringify(session));
            window.location.href = 'index.html';
        });

        // Check if already logged in
        if (localStorage.getItem('userSession')) {
            window.location.href = 'index.html';
        }
    </script>
</body>

</html>